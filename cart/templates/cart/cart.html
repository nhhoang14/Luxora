{% extends 'base.html' %}
{% load vn_currency %}

{% block title %}Gi·ªè h√†ng - Luxora{% endblock %}

{% block content %}
<h2 class="text-3xl font-bold mb-10 text-gray-900 text-center" style="margin-top: 1cm;">Gi·ªè h√†ng üõí</h2>

<div class="max-w-screen-2xl mx-auto mt-10 grid grid-cols-1 gap-8">
  <!-- Container grid: khi m√†n l·ªõn => 4 c·ªôt, left 3/4, right 1/4 -->
  <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">

    <!-- Left: danh s√°ch s·∫£n ph·∫©m (3/4) -->
    <div class="lg:col-span-3 bg-transparent p-8 border border-gray-300 rounded-xl h-full flex flex-col">
      {% include 'cart/partials/cart_list.html' %}
    </div>

    <!-- Right: T√≥m t·∫Øt ƒë∆°n h√†ng (1/4) -->
    <aside class="lg:col-span-1 bg-white p-6 border border-gray-200 rounded-xl h-fit">
      {% if cart and cart.items.exists %}
      <h3 class="text-xl font-semibold mb-4 text-gray-900">T√≥m t·∫Øt ƒë∆°n h√†ng</h3>

      <div class="flex justify-between text-lg font-medium mb-3">
        <span>T·∫°m t√≠nh</span>
        <span class="tabular-nums">{{ cart.total_price|vnd }}</span>
      </div>

      <p class="text-sm text-gray-500 mb-4">ƒê√£ bao g·ªìm thu·∫ø. Ph√≠ v·∫≠n chuy·ªÉn s·∫Ω ƒë∆∞·ª£c t√≠nh khi thanh to√°n.</p>

      <textarea placeholder="Ghi ch√∫ ƒë∆°n h√†ng" class="w-full border rounded-lg p-3 mb-4 text-sm bg-transparent focus:ring-2 focus:ring-blue-500"></textarea>

      <div class="flex justify-between items-center text-lg font-semibold border-t pt-4 mb-6">
        <span>T·ªïng c·ªông</span>
        <span class="pr-4 tabular-nums">{{ cart.total_price|vnd }}</span>
      </div>

      <a href="{% url 'cart:checkout' %}" class="w-full block text-center bg-black text-white py-3 rounded-full font-semibold hover:opacity-80 transition">Thanh to√°n</a>
      {% else %}
      <p class="text-sm text-gray-500">Kh√¥ng c√≥ s·∫£n ph·∫©m trong gi·ªè.</p>
      {% endif %}
    </aside>

  </div>
</div>
{% endblock %}
